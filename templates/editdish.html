{% extends "formslayout.html" %}

{% block title %}Edit Dish{% endblock %}
{% block head %}
{{ parent ()}}<link href="resources/css/admin.css" rel="stylesheet" type="text/css">
{% endblock %}

{% block content %}
    <div class="admin-div">
        <div class="section">
        <form action="./editdish.php" method="POST" enctype="multipart/form-data">
            <h1 class="forms">EDIT DISH</h1>
            <div class="form-div">
                    <p class="error">{{validations.id}}</p>
                    <input class="input-line" aria-label="Enter id" type="text" name="eDishId" value="{{dish.id}}{{formvalues.id}}" hidden>
            </div>
            <div class="form-div">
                <p class="title">Name</p>
                <p class="error">{{validations.name}}</p>
                <input class="input-line" type="text" value="{{dish.name}}{{formvalues.name}}" aria-label="Enter name" name="eDishName" required>
            </div>
            <div class="form-div">
                <p class="title">Type</p>
                <p class="error">{{validations.type}}</p>
               <select name="typeSelect" class="input-line" aria-label="Select dish type" autofocus="{{formvalues.type}}{{dish.type}}" required>
                <option value="">Select Type</option>
                {% for type in types %}
                <option value="{{type.typeid}}">{{type.type}}</option>
                {% endfor %}
                
            </select>
            </div>
            <div class="form-div">
                <p class="title">Description</p>
                <p class="error">{{validations.desc}}</p> 
                <textarea class="input-line" aria-label="Enter description" type="text" name="eDishDescription"  rows=4 required>{{formvalues.desc}}{{dish.desc}}</textarea>
            </div> 
            <div class="form-div">
                <p class="title">Price</p>
                <p class="error">{{validations.price}}</p>
                <input class="input-line" type="text" value="{{dish.price}}{{formvalues.price}}" aria-label="Enter price" name="eDishPrice" required>
            </div>
            <div class="form-div">
                <p class="title">Ingredients</p>
                <p class="error">{{validations.ing}}</p>
                <textarea class="input-line" aria-label="Enter ingredients" type="text" name="eDishIngredients"  rows=4 required>{{formvalues.ing}}{{dish.ing}}</textarea> 
            </div>
            <div class="form-div">
                <p class="title">Serving</p>
                <p class="error">{{validations.serving}}</p>
                <input class="input-line" type="text" value="{{formvalues.serving}}{{dish.serving}}" aria-label="Enter serving" name="eDishServing" required>
            </div>
            <div class="form-div">
                <p class="title">Allergies</p>
                <p class="error">{{validations.allergies}}</p>
               <select name="allSelect[]" class="input-line" aria-label="allSelect" multiple="multiple" autofocus="" required>
                <option value="none">None</option>
                {% for allergy in allergies %}
                    <option value="{{allergy.allergyid}}">{{allergy.name}}</option>
                {% endfor %}
                </select>
            </div>
            <div class="form-div">
                <p class="title">Photo</p>
                <p class="error">{{validations.photo}}</p>
                <input class="input-line" type="file" value="{{formvalues.photo}}" aria-label="Enter photo" name="eDishPhoto">
            </div>
            
            <button class="form-button" type="submit" name="eDishSubmit">Edit Dish</button>
        </form>
    </div>
</div>
{% endblock %}